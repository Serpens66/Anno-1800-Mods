<ModOps>

  <!-- uses guids 1500001587 bis 1500001589  -->
  <!-- und 1500002151 bis 1500002179 -->
  <!-- 1500002153,  noch frei -->
  
  
  <!-- TODO WICHTIG: -->
   <!-- CheatItemInSlot funzt! -->
   <!-- Und userdata:changeGUID (bzw. auch via Trigger) funzt damit die Items behalten werden! -->
    <!-- Müsste man nur gucken, dass Spy Land und Water dieselben Properties haben, damits nicht crashed. -->
  
  <!-- Optimale Lösung: -->
   <!-- Spy Unit kann Items direkt kaufen (gegen Meta Währung die man über Zeit von Posten bekommt?) -->
    <!-- Diese Items sind einmal verwendbar, bzw. können nun auch x Schuss haben. -->
    <!-- Wenn dieser Spy stirbt, sind die Items die er dabei hatte weg -->
   <!-- Init-Items sind nur noch basisdinge wie Landen/Wassern/Patrol usw. -->
  
  <!-- Noch besser wäre es: -->
   <!-- Man braucht x Posten auf einer Insel um auf dieser Insel sabotieren zu können. -->
    <!-- Könnte man evlt via SpawnImpactObject und Trigger der Area prüft bewerkstelligen, aber wäre doof wenn man da n Item verschwendet... -->
     <!-- Also wäre noch besser, wenn das Kauf Angebot der Posten auf der Insel sich anpasst? -->
      <!-- Aber dann könntest du die auch woanders kaufen und dann Insel wechseln... hmm -->
  
  
  
  <!-- ################################################### -->
  <!-- ##  Trigger  ## -->
  <!-- ## Triggers to provide spy units with the correct amount of items on spawn ## -->
   <!-- they will be registered on every spy spawn, checked within trigger 1500001190  -->
  <!-- ################################################### -->
  
  <!-- evlt. Items nur einmalig nutzbar machen und man kann diese nur auf eigener insel/neben eigenem Kontor wieder auffüllen, -->
    <!-- dazu extra item im spy, welches nur auf eigenen kontor geht und dann evlt decisionquest startet, wo man sich items aussuchen (evlt bezahlen) -->
     <!-- kann und dadurch etwas unlocked (und beim verschiffen usw wird dann geguckt was unlocked ist und diese items jedesmal verteilt) -->
      <!-- so lange bis das item eingesetzt wurde oder der spion richtig stirbt (schwer zu erkennen..) -->
    <!-- das würde fördern, dass man versucht seinen pion am leben zu lassen -->
    <!-- für einmaliges einsetzen kann man das Locked Property direkt im Item nehmen... -->
    <!-- fürs erkennen dass es eingesetzt wurde müssten wir dann für jedes ein eigenes objekt machen dass als spawnimapct gespawned wird -->
     <!-- und diese dann in einen pool packen, damit diverse trigger die da nach als zeichen der dabotage suchen, jedes davon erkennen -->
  <!-- .. -->
  <!-- Alternativ nicht die items selbst so behandeln, weil das sehr viel aufwand wäre, -->
     <!-- sondern allgemein nur x-mal sabotieren erlauben (durch zählen des Sabotage spawnonimpact object) -->
     <!-- und danach spion iwie zwingen, dass er zur basis (entweder bestimmten gebäude, oder beliebige eigene insel, bzw. kontor) -->
     <!-- zurück muss um es aufzufüllen. -->
   <!-- - mit SpawnImpactObject könnte man eigene Gebäude auf fremder Insel als "Unterschlupf" (Aussehen wechselbar) oderso platzieren und damit den Trigger beeibflussen -->
    <!-- wie oft man auf dieser insel sabotieren darf. man kann zb. bis zu 3 stück oderso platzieren, und so die zahl der erlaubten sabotage von 2 auf 5 erhöhen oderso. -->
     <!-- (wenn man mehr als 3 platziert dann via trigger das älteste entfernen) -->
     <!-- anderer spieler kann gebäude mit police units zerstören ,auch über autoattack (patroulie) -->
      <!-- dummerweise gibts kein gutes targetting, womit wir nur auf freier fläche etwas spawnen können... -->
       <!-- einziger workaround evlt dem building walking und commandqueue zu geben, damit es automatisch an erlaubte position bewegt -->
      <!-- Alternativ einfach ein normales objekt, kein building mit spy spawnen, wobei nur bestimmte gebäude target sein können -->
       <!-- und das gilt dann quasi als "eingenistet" auch wenns nicht direkt mit dem Gebäude verbunden ist. -->
       <!-- Police unit kann das objekt zerstören und kann auch durch auge erkennbares objekt sein -->
       
   <!-- .. -->
   <!-- Ideen Spion zwingen sich wieder aufzuladen: -->
   <!-- - items entfernen? -->
   <!-- - iein Debuff  mit erklärung, der aber auch zwingt, doch wie... -->
   <!-- - oder man hat keines der sabotage items direkt, sondern nur 1 bis 5 Aussuchitems, die wenn man sie anklickt eine decisionquest öffnen -->
    <!-- wo man sich eins der sabotageitems aussuchen kann. alle davon und auch diese aussuchitems haben nur 1 Ladung. -->
     <!-- decisionquest ist leider doof dafür, aber was besseres kenne ich wohl nicht... oder man spawnt neben dem Spy eine Kiste die man öffnen -->
      <!-- kann und nen item davon nehmen (bzw. aktivieren) und dann spawnt es im spy.. -->
    <!-- GEHT vermutlich so am besten: -->
     <!-- spion spawned immer ohne items, bekommt beim spawn aber durch lua script items gutgeschrieben -->
      <!-- die anzahl der items die spawnen sollen kann man dann über ein internes nicht sichtbares produkt zählen. -->
       <!-- wenn wir mit slots arbeiten und im script den slot immer vorher leeren, sollte das auch MP (whichplayer) und coop kompatibel sein. -->
  
  <!-- Bzgl. der Limitierung von Items einsetzen: -->
   <!-- evlt kann man die items auch in gebäude kaufbar machen, ist dann wie werft aufgebaut und kostet zb Ruhm oder neue währung -->
    <!-- und kann nur gebaut werden, wenn spion in der nähe eines solchen gebäudes weltweit (ansonsten locked oder kein buildpermit) -->
   <!-- und wenn man so ein sabotage item kauft, dann wird trigger ausgeführt, der globale versteckte ressource zufügt um zu zählen wieviele von wlchem item man hat -->
    <!-- und AddGood to spion und bei jedem spawn eine spion bekommt der spion via lua script die jeweilige items -->
   <!-- Auf fremder insel könnte man dann zb "Gebäude infiltrieren" wodurch ein hilfsobjekt darauf gespawned wird. das kann man zb anklicken und dort -->
    <!-- ebenfalls die items kaufen, aber zb. teurer als auf der eigenen insel. -->
   <!-- Oder man nutzt das infiltrieren (auch) um die Währung zu erhalten, mit der man neue items kaufen kann -->
   <!-- Limitieren wieviel der spion an items haben darf, kann man auch n lua script nutzen und da zählen wieviele von welchem item der user hat (durch die hidden ressource) -->
    <!-- und evtl. noch mit nem wert multiplizieren, um die items untersch. zu geqwichten. Und sobald ein wert überschritten ist, kann user keine weiteren items -->
     <!-- mehr kaufen (locked oder buildpermit) -->
  
  
  
  <!-- Spy will always spawn with only basic items, because of the land/water mechanic, because the unit is spawned and destryoed each time. -->
   <!-- to still be able to allow the spy to buy a limited amout of items to use, we have to add the items on spawn -->
  <!-- to count how much of each item the user bought/has left, we will count them with helper meta ressources -->
  <!-- "hast du 1 x ressource, dann füge 1 y item zu. Hast du 2 x ressourcen, dann fürge 2 y items zu" usw. -->
  <!-- Geht halbwegs auch mit lua, aber da gibts diverse andere Probleme (MP/Coop sorgen für mehrfache ausführung und session. ist immer nur die aktuelle session des spielers) -->
    <!-- deswegen ist mit Triggern schon sinnvoller, auch wenn wir jede Menge einzeln prüfen müssen. Daher ist die maximlae Anzahl pro Item am besten limitiert, zb. auf 3 -->
  
  
  <!-- Die "Ressource Item" kann man zb bekommen indem man sie für "Ressource Buy Item Ressources" kauft, zb. in einem shipyard ähnlichem gebäude -->
    <!-- also bei Bau eines objekts darin dann gutschreiben der ressource -->
  <!-- Und "Ressource Buy Item Ressources" könnte man zb. für das Platzieren von Spionageposten oderso auf fremden Inseln bekommen (die der inselbesitzer zb mit polizei zerstören kann) -->
   <!-- (am besten limitieren auf 2 pro insel oderso, falls das geht) -->
    <!-- Wobei ich hier noch nicht sicher bin, wie das am sinnvollsten bei KI funzt, denn die hat ja nur police units, wenn spy auf insel ist  -->
     <!-- und würde sonst keine Spionageposten zerstören.. hier vllt sonst einfach alle x minuten zufällig ne chance was zu zerstören, aber auch das ist nicht so leicht -->
      <!-- wenn es davon mehrere überall geben kann... -->
    <!-- bzw. diese spionposten einfach entfernen sobald spion insel verlässt und man muss sie auf jeder insel neu einrichten -->
    <!-- in allen dieser posten kann man dann die items auch kaufen (oder evlt nur in einem von mehreren), man kann aber zb- nur 1+1*Anzahl der Posten kaufen/dabei haben -->
     <!-- muss also regelmäßig zu ihnen zurück oderso... -->
  
  
      <!-- TODO -->
    <!-- wir müssen bei Verwendung eines Items die Menge an resourcen die zählt wieviele wir von diesem Items haben dürfen, -->
     <!-- um 1 reduzieren. Damit wir das können muss ich vermutlich ein anderes Objekt beim Projectil-Spawn spawnen, damit erkannt wird, -->
      <!-- welches item eingesetzt wurde. -->
      <!-- Entweder ersetze ich das dann sofort durch das 1500001716 asset (und reduziere die menge der ressource) -->
       <!-- oder ich muss alle diese objekte in einen Pool "All Recently-Sabotaged Objects" packen -->
       <!-- besser ersteres machen -->
       <!-- wobei problem ist, dass das nur für den land spy funzt, da wir da mit dem dummybuilding auf seiner insel automatisch die richtige session fürs spawnen bekommen. -->
       <!-- bei allen items die via schiff eingesetzt werden, bekommen wir die session nicht, weshalb ActionSpawn nicht zuverlässig funzt. -->
        <!-- wobei wir am besten einfach ChangeGUID machen, statt spawnen+remove. Das sollte funktionieren. -->
      <!-- TODO... ConditionItemUsed funzt leider nicht für schuss-items... -->
      <!-- bleibt also nur der Weg jedem item-projektil ein eigenes SpawnOnImpact zu geben.. -->
  

  
  <!-- TODO  -->
  <!-- ALTERNATIVE Idee der Limitierung: -->
   <!-- Items wieder endlos oft und in Init des spies reinpacken (oder weiter per trigger item spawnen, wenn man sie freischalten können soll). -->
   <!-- Bei jedem mal wo so ein "Recently sabotage Helper" 1500001716 dazu kommt, fügen wir eine Meta Ressource hinzu (weil 1500001716 ja auch wieder entfernt wird über zeit mit dieser res ein euer counter) -->
    <!-- die menge dieser res kann nicht negativ werden und der spy kann zb bei seiner Basis dann diesen wert wieder auf 0 reduzieren. -->
     <!-- Sobald der Wert durch Sabotage zb mind. 10 erreicht, machen wir ein ActionDeleteItems direkt und auch ein ActionDeleteItems  -->
      <!-- in dem trigger der erkennt dass ein spy/spy ship gespawned wurde. -->
   <!-- Auf diese Weise kann man nur x mal sabotieren, bevor man keine sabo-items mehr hat und sie auf irgendeine Weise wieder auffüllen muss. -->
    <!-- zb. könnte man auf eigener Inselbasis diese meta-res um -100 verringern, sodass es immer wieder komplette menge aufgefüllt wird. -->
     <!-- und in basis auf fremder Insel könnte man nur -1 machen, sodass auffüllen zwar geht, aber länger dauert (auffüllvorgang kann auch zeit dauern) -->
     
    <!-- Diese maxmenge kann man auch direkt an die anzahl der Basen auf fremden inseln koppeln? -->
    <!-- ohne basis kann man immer nur 1 mal sabotieren und jede stehende basis gibt +1 dazu, bis zu einer max menge von 10 -->
      <!-- (dazu braucht es trigger der die menge der res mit der menge der basen abgleicht, ist etwas viel code, aber wenn wirs auf 10 limitieren sollte es ok sein) -->
     
     <!-- und dafür sorgen, dass man basen nur auf KI inseln bauen kann, also abreißen, wenn auf anderer insel gebaut oder targetting anpassen -->
     
     <!-- (wie sorge ich nochmal dafür, dass Basis nur nutzbar ist während Spy in der nähe ist? zb durch spy der buff mit item auf building macht, damit dies schneller das gewüscnhte produziert) -->
  
  <!-- ODER: -->
  <!-- Anzahl doch garnicht limitieren. -->
  <!-- und stattdessen wenn 2/5/10 von Posten platziert wurden, dann eine bessere Stufe der Items über Trigger verteilen. -->
  <!-- Also welche die schneller/höhere Reichweite oderso haben -->
  
  <!-- ODER: -->
  <!-- Land Spy hat keine Sabo Items dabei, sondern nur eins zum Spawnen des Posten. -->
  <!-- Und in diesem Posten kann er dann Sabo Items kaufen, die nur einmal benutzbar sind und er hat nur -->
   <!-- 4 slots oderso (jetzt wo sie ne eigene allocation sind, ist bewegen der items erlaubt) -->
  <!-- Auf diese Weise kann man Kosten zufügen und die Res dazu generiert man evlt. auch über Posten auf fremden Inseln. -->
   <!-- (generieren der Res vermutlich nur über Trigger möglich, wo wie Zahlen 1-10 prüfen und dann jede Minute zb. 1-10 Res gutschreiben) -->
  <!-- Problem: sobald man wassert sind Items wieder weg... -->
   <!-- Und "kaufen" geht vermutlich nur über shipyard-art, also mit Trigger AddItem, was weltweit auslöst. -->
    <!-- dh. da müsste man Spy dann noch ein Item geben, womit er diesen Posten quasi "aktiviert" damit man diese "schiffe" nur  -->
     <!-- bauen kann wenn spy auch in der nähe ist. -->
  
  
  <!-- ich glaub beste Version: -->
  <!-- Posten geben Einkommen an neuer Res. und diese kann im Spy-Spawn Gebäude für dauerhafte Upgrades ausgegeben werden. -->
   <!-- das beinhaltet dann erstmaliges und dauerhaftes Freischalten von einzelnen Sabo Items. -->
    <!-- Als auch evtl. teurere/schnellere/größere Radien Versionen der Sabo Items -->
   <!-- Wobei hier dann noch ein Anreiz fehlt auch nach dem Freischalten weiterhin Posten zu haben.. -->
  
  
  <!-- mit ConditionInStorage kann man auch bei Schiffen nachgucken, allerdings werden nur Dinge im Slot erkannt, nicht im socket (ausgerüstet) -->
   <!-- und man kann auch in Flotsam suchen, zb 1000212. die Mengen in allen gefundenen Dingen aus ObjectFilter werden aufaddiert. -->
  <!-- in Theory kann man dadurch beim Wassern prüfen welche items der Spy grad dabei hat und diese dann auch 1:1 zum Spy-Ship -->
   <!-- zufügen, sodass man gekaufte Einmal-Items weiterhin behalten kann. -->
  <!-- (da gesockelte items nicht erkannt werden, müsste man die sockel des spies auf 1 begrenzen, damit zu dem zeitpunkt -->
   <!-- nur das Wassern gesockelt ist...)  -->
    <!-- bzw. entsockeln über lua skript -->
     <!-- entsockeln via lua skript klappt nicht, außer vllt mit shared_LuaUltimateHelpers sobald der irgendwann fertig ist... -->
  
  
  <ModOp Type="AddNextSibling" GUID="119392">
    <Asset>
      <Template>Product</Template>
      <Values>
        <Standard>
          <GUID>1500001587</GUID>
          <Name>Ressource Buy Item Ressources</Name>
          <IconFilename>data/sabotage_graphics_serp/icons/Spy1404.png</IconFilename>
        </Standard>
        <Locked>
          <DefaultLockedState>0</DefaultLockedState>
        </Locked>
        <Product>
          <StorageLevel>Meta</StorageLevel>
        </Product>
      </Values>
    </Asset>
    <Asset>
      <Template>Product</Template>
      <Values>
        <Standard>
          <GUID>1500002151</GUID>
          <Name>Ressource Item: 1500001180 Incident Fire</Name>
        </Standard>
        <Locked>
          <DefaultLockedState>0</DefaultLockedState>
        </Locked>
        <Product>
          <StorageLevel>Meta</StorageLevel>
        </Product>
      </Values>
    </Asset>
    <!-- für Illness/ArcticIllness können wir durch Trigger jetzt auch checken in welcher Session Spy ist und dann das richtige spawnen -->
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002152</GUID>
          <Name>Ressource Item: 1500001179 Incident Illness / 1500001723 Incident ArcticIllness</Name>
        </Standard>
      </Values>
    </Asset>
    <!-- <Asset> -->
      <!-- <BaseAssetGUID>1500002151</BaseAssetGUID> -->
      <!-- <Values> -->
        <!-- <Standard> -->
          <!-- <GUID>1500002153</GUID> -->
          <!-- <Name>Ressource Item: </Name> -->
        <!-- </Standard> -->
      <!-- </Values> -->
    <!-- </Asset> -->
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002154</GUID>
          <Name>Ressource Item: 1500001184 Incident Riot</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002155</GUID>
          <Name>Ressource Item: 1500001725 Incident Explosion</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002156</GUID>
          <Name>Ressource Item: 1500001208 Production/Repair-/Shipyard-/LoadingSpeed Debuff</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002157</GUID>
          <Name>Ressource Item: 1500001218 Higher Maintenance / Less Taxes and Happiness</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002158</GUID>
          <Name>Ressource Item: 1500001467 Less Attractivness Zoo/Garden/Museum/VisitorPier</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002159</GUID>
          <Name>Ressource Item: 1500001569 Health/Attack Buildings Debuff</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002160</GUID>
          <Name>Ressource Item: 1500001463 Health/Attack/Speed Ships Debuff</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002161</GUID>
          <Name>Ressource Item: 1500001489 Steal Money</Name>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002151</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002162</GUID>
          <Name>Ressource Item: 1500001572 Drop Mine</Name>
        </Standard>
      </Values>
    </Asset>
    
    <!-- <Asset> -->
      <!-- <BaseAssetGUID>1500002151</BaseAssetGUID> -->
      <!-- <Values> -->
        <!-- <Standard> -->
          <!-- <GUID>1500002163</GUID> -->
          <!-- <Name>Ressource Item: Change Rep</Name> -->
        <!-- </Standard> -->
      <!-- </Values> -->
    <!-- </Asset> -->
    
    
  </ModOp>
  
  
  <!-- make them buyable in shipyard like object -->
    <!-- it can be spawned by a spy unit with an item -->
    <!-- vllt doch langsam beweglich auf land machen (aber so, dass es nicht in anderen gebäuden verschwinden kann) und aussehen wie beliebiges gebäude? -->
  <ModOp Type="AddNextSibling" GUID='1010520'>
    <Asset>
      <Template>ObjectShipyard_Store</Template>
      <Values>
        <Standard>
          <GUID>1500002179</GUID>
          <Name>Shop Sabotage Items</Name>
          <IconFilename>data/ui/2kimages/main/3dicons/city_institution/icon_police.png</IconFilename>
          <InfoDescription>1500001503</InfoDescription>
        </Standard>
        <Blocking />
        <Object>
          <Variations>
            <Item>
              <Filename>data/graphics/buildings/public/institution_01/institution_01.cfg</Filename>
            </Item>
          </Variations>
          <Skins>
            <DefaultSkinName>1010462</DefaultSkinName>
            <DefaultSkinDescription>23853</DefaultSkinDescription>
            <DefaultSkinCategoryName>7312</DefaultSkinCategoryName>
            <OverrideDefaultIcon>data/ui/2kimages/main/3dicons/ornaments/cosmetic_dlc09/icon_policestation_default.png</OverrideDefaultIcon>
            <SkinList>
              <Item>
                <SkinAssetGuid>5230</SkinAssetGuid>
              </Item>
            </SkinList>
          </Skins>
        </Object>
        <Selection>
          <GUIType>Shipyard</GUIType>
          <MultiSelectable>0</MultiSelectable>
          <SelectionPriority>5</SelectionPriority>
          <InteractionDistance>0</InteractionDistance>
          <AllowedDragType>[NONE]</AllowedDragType>
          <InfoCorner>0</InfoCorner>
        </Selection>
        <Text />
        <Shipyard>
          <AssemblyOptions>
            <Item>
              <Vehicle>1500002164</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002165</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002166</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002167</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002168</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002169</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002170</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002171</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002172</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002173</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002174</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002175</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002176</Vehicle>
            </Item>
            <Item>
              <Vehicle>1500002177</Vehicle>
            </Item>
          </AssemblyOptions>
        </Shipyard>
        <Infolayer />
        <SoundEmitter />
        <Attackable>
          <AttackableType>IslandBuilding</AttackableType>
          <MaximumHitPoints>5000</MaximumHitPoints>
          <ExplosionEffectsMin>1</ExplosionEffectsMin>
          <ExplosionEffectsMax>1</ExplosionEffectsMax>
          <SelfHealPerHealTick>4</SelfHealPerHealTick>
        </Attackable>
        
        <FactoryBase>
          <FactoryOutputs>
            <Item>
              <Product>1500001587</Product>
              <Amount>1</Amount>
            </Item>
          </FactoryOutputs>
          <CycleTime>60</CycleTime>
          <IsMainFactory>1</IsMainFactory>
          <TeleportProducedGoodsIntoAreaStorage>1</TeleportProducedGoodsIntoAreaStorage>
          <WarehouseTransporterAsset>0</WarehouseTransporterAsset>
          <MissingConnectionInfolayer>0</MissingConnectionInfolayer>
        </FactoryBase>
        <!-- <LogisticNode> -->
          <!-- <TransporterCountMax>0</TransporterCountMax> -->
          <!-- <TransporterAsset>120062</TransporterAsset> -->
          <!-- <NeedsTransporterQueue>0</NeedsTransporterQueue> -->
        <!-- </LogisticNode> -->
        
        <CommandQueue>
          <IsPlayerControllableVehicle>1</IsPlayerControllableVehicle>
          <InsecurityAttractiveness>-20</InsecurityAttractiveness>
          <MilitaryShipPoints>0</MilitaryShipPoints>
          <PriorityShipList>10</PriorityShipList>
        </CommandQueue>
        <Walking>
          <ForwardSpeed>0.05</ForwardSpeed>
          <WalkSequence>walk01</WalkSequence>
          <IdleSequence2>idle01</IdleSequence2>
          <DiscoverRadius>10</DiscoverRadius>
          <ReservationLength>0</ReservationLength>
          <ReservationWidth>0</ReservationWidth>
          <TurnAroundRadius>0</TurnAroundRadius>
          <Acceleration>6</Acceleration>
          <TurnRadius>0.1</TurnRadius>
          <TurnSpeed>240</TurnSpeed>
          <TurnDeceleration>0</TurnDeceleration>
          <TurnMovement>80</TurnMovement>
          <LeaningSpeed>0.01</LeaningSpeed>
          <LeaningDamping>0.01</LeaningDamping>
          <WindMinSlowdownFactor>1</WindMinSlowdownFactor>
          <WindMaxSpeedupFactor>1</WindMaxSpeedupFactor>
          <MinSlowdownFactor>1</MinSlowdownFactor>
          <CurveSegmentDensity>High</CurveSegmentDensity>
          <PathPlannerLayer>Land</PathPlannerLayer>
        </Walking>
        
      </Values>
    </Asset>
  </ModOp>
  
  <!-- ItemEffect is added, so my mod "shared_ShipyardForBuffsTooltip" prevents displaying ships stats -->
  <!-- CraftingTime should be at least 100ms so the trigger has no problem to credit it one at a time -->
  <ModOp GUID="114166" Type="addNextSibling">
    <Asset>
      <Template>ObjectDummyWithOwner_BuildInShipyard</Template>
      <Values>
        <Standard>
          <GUID>1500002164</GUID>
          <Name>Buy Ressource Item: 1500001180 Incident Fire</Name>
          <IconFilename>data/ui/2kimages/main/icons/dlc_11/icon_ship_fire_armed_red.png</IconFilename>
          <InfoDescription>1500001176</InfoDescription>
        </Standard>
        <Cost>
          <Costs>
            <Item>
              <Ingredient>1500001587</Ingredient>
              <Amount>100</Amount>
            </Item>
          </Costs>
          <InfluenceCostType>None</InfluenceCostType>
        </Cost>
        <Craftable>
          <CraftingTime>5000</CraftingTime>
        </Craftable>
        <Locked>
          <DefaultLockedState>0</DefaultLockedState>
        </Locked>
        <ItemEffect />
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002165</GUID>
          <Name>Buy Ressource Item: 1500001179 Incident Illness / 1500001723 Incident ArcticIllness</Name>
          <IconFilename>data/ui/2kimages/main/3dicons/newspaper/icon_illness_chance_red.png</IconFilename>
          <InfoDescription>1500001727</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <!-- <Asset> -->
      <!-- <BaseAssetGUID>1500002164</BaseAssetGUID> -->
      <!-- <Values> -->
        <!-- <Standard> -->
          <!-- <GUID>1500002166</GUID> -->
          <!-- <Name>Buy Ressource Item: </Name> -->
          <!-- <IconFilename></IconFilename> -->
          <!-- <InfoDescription>XX</InfoDescription> -->
        <!-- </Standard> -->
      <!-- </Values> -->
    <!-- </Asset> -->
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002167</GUID>
          <Name>Buy Ressource Item: 1500001184 Incident Riot</Name>
          <IconFilename>data/ui/2kimages/main/3dicons/newspaper/icon_newscategory_riot_bad.png</IconFilename>
          <InfoDescription>1500001719</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002168</GUID>
          <Name>Buy Ressource Item: 1500001725 Incident Explosion</Name>
          <IconFilename>data/ui/2kimages/main/icons/notification_icons/icon_incident_explosion_outline.png</IconFilename>
          <InfoDescription>1500001190</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002169</GUID>
          <Name>Buy Ressource Item: 1500001208 Production/Repair-/Shipyard-/LoadingSpeed Debuff</Name>
          <IconFilename>data/ui/2kimages/main/icons/icon_workforce_2d.png</IconFilename>
          <InfoDescription>1500001567</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002170</GUID>
          <Name>Buy Ressource Item: 1500001218 Higher Maintenance / Less Taxes and Happiness</Name>
          <IconFilename>data/ui/2kimages/main/icons/icon_house_income.png</IconFilename>
          <InfoDescription>1500001715</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002171</GUID>
          <Name>Buy Ressource Item: 1500001467 Less Attractivness Zoo/Garden/Museum/VisitorPier</Name>
          <IconFilename>data/ui/2kimages/main/icons/icon_monument_attractiveness.png</IconFilename>
          <InfoDescription>1500001718</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002172</GUID>
          <Name>Buy Ressource Item: 1500001569 Health/Attack Buildings Debuff</Name>
          <IconFilename>data/ui/2kimages/main/icons/achievement/icon_achievement_category_military.png</IconFilename>
          <InfoDescription>1500001556</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002173</GUID>
          <Name>Buy Ressource Item: 1500001463 Health/Attack/Speed Ships Debuff</Name>
          <IconFilename>data/ui/2kimages/main/icons/ship_info/icon_ship_moving.png</IconFilename>
          <InfoDescription>1500001574</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002174</GUID>
          <Name>Buy Ressource Item: 1500001489 Steal Money</Name>
          <IconFilename>data/ui/2kimages/main/3dicons/consumables/icon_moneybag_rare.png</IconFilename>
          <InfoDescription>1500001594</InfoDescription>
        </Standard>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500002164</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500002175</GUID>
          <Name>Buy Ressource Item: 1500001572 Drop Mine</Name>
          <IconFilename>data/ui/2kimages/main/3dicons/drop_goods/icon_dropgood_seamines.png</IconFilename>
          <InfoDescription>853</InfoDescription>
        </Standard>
        <Cost>
          <Costs>
            <Item>
              <Ingredient>1500001587</Ingredient>
              <Amount>25</Amount>
            </Item>
          </Costs>
        </Cost>
      </Values>
    </Asset>
    <!-- <Asset> -->
      <!-- <BaseAssetGUID>1500002164</BaseAssetGUID> -->
      <!-- <Values> -->
        <!-- <Standard> -->
          <!-- <GUID>1500002176</GUID> -->
          <!-- <Name>Buy Ressource Item: Change Rep</Name> -->
          <!-- <IconFilename></IconFilename> -->
          <!-- <InfoDescription>XX</InfoDescription> -->
        <!-- </Standard> -->
      <!-- </Values> -->
    <!-- </Asset> -->
  </ModOp>
  
  
  <!-- Call script to provide Spy Items on SessionEnter -->
  <ModOp Type="add" GUID="1500005530" Path="/Values/Trigger/ResetTrigger/Values/Trigger/TriggerActions">
    <Item>
      <TriggerAction>
        <Template>ActionRegisterTrigger</Template>
        <Values>
          <Action />
          <ActionRegisterTrigger>
            <TriggerAsset>1500001588</TriggerAsset>
          </ActionRegisterTrigger>
        </Values>
      </TriggerAction>
    </Item>
  </ModOp>
  
  
  <!--  ConditionInStorage trifft nur in Storage (nicht gesockelt) -->
   <!-- aber lua testet dann noch ItemContainer.ItemAlreadyEquipped(GUID) -->
   <!-- Alles IsOptional, damit Trigger einfach nichts macht, falls Spy aktuell nicht in Session/schon Items hat -->
  <ModOp GUID="130248" Type="AddNextSibling">
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001588</GUID>
          <Name>Provide Spy Items on Spawn/SessionEnter, if Spy is in Current Session and does not have items yet</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <Template>ConditionPlayerCounter</Template>
            <Values>
              <Condition>
                <IsOptional>1</IsOptional>
              </Condition>
              <ConditionPlayerCounter>
                <Context>1500001495</Context>
                <CounterAmount>1</CounterAmount>
                <CounterScope>Session</CounterScope>
                <CounterScopeUseActiveSession>1</CounterScopeUseActiveSession>
                <CounterScopeKeepFirstFound>0</CounterScopeKeepFirstFound>
              </ConditionPlayerCounter>
            </Values>
          </TriggerCondition>
          <SubTriggers>
            <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <Template>ConditionInStorage</Template>
                      <Values>
                        <Condition>
                          <IsOptional>1</IsOptional>
                          <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
                        </Condition>
                        <ConditionInStorage>
                          <InStorageGoods>
                            <Item>
                              <Product>1500001535</Product>
                              <Amount>1</Amount>
                            </Item>
                          </InStorageGoods>
                          <InStorageCompareOp>LessThan</InStorageCompareOp>
                        </ConditionInStorage>
                        <ObjectFilter>
                          <ObjectGUID>1500001484</ObjectGUID>
                          <CheckParticipantID>1</CheckParticipantID>
                          <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
                        </ObjectFilter>
                      </Values>
                    </TriggerCondition>
                    <SubTriggers>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionUnlocked</Template>
                                <Values>
                                  <Condition>
                                    <IsOptional>1</IsOptional>
                                  </Condition>
                                  <ConditionUnlocked>
                                    <UnlockNeeded>1500001613</UnlockNeeded>
                                  </ConditionUnlocked>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionExecuteScript</Template>
                                    <Values>
                                      <Action />
                                      <ActionExecuteScript>
                                        <ScriptFileName>data/scripts_serp/spy_items_human0.lua</ScriptFileName>
                                      </ActionExecuteScript>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionUnlocked</Template>
                                <Values>
                                  <Condition>
                                    <IsOptional>1</IsOptional>
                                  </Condition>
                                  <ConditionUnlocked>
                                    <UnlockNeeded>1500001614</UnlockNeeded>
                                  </ConditionUnlocked>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionExecuteScript</Template>
                                    <Values>
                                      <Action />
                                      <ActionExecuteScript>
                                        <ScriptFileName>data/scripts_serp/spy_items_human1.lua</ScriptFileName>
                                      </ActionExecuteScript>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionUnlocked</Template>
                                <Values>
                                  <Condition>
                                    <IsOptional>1</IsOptional>
                                  </Condition>
                                  <ConditionUnlocked>
                                    <UnlockNeeded>1500001615</UnlockNeeded>
                                  </ConditionUnlocked>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionExecuteScript</Template>
                                    <Values>
                                      <Action />
                                      <ActionExecuteScript>
                                        <ScriptFileName>data/scripts_serp/spy_items_human2.lua</ScriptFileName>
                                      </ActionExecuteScript>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionUnlocked</Template>
                                <Values>
                                  <Condition>
                                    <IsOptional>1</IsOptional>
                                  </Condition>
                                  <ConditionUnlocked>
                                    <UnlockNeeded>1500001616</UnlockNeeded>
                                  </ConditionUnlocked>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionExecuteScript</Template>
                                    <Values>
                                      <Action />
                                      <ActionExecuteScript>
                                        <ScriptFileName>data/scripts_serp/spy_items_human3.lua</ScriptFileName>
                                      </ActionExecuteScript>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                    </SubTriggers>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
          </SubTriggers>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>0</AutoRegisterTrigger>
          <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    

    
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500002178</GUID>
          <Name>Credit Item/Ressource on Buy</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
            <Values>
              <Condition>
                <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
              </Condition>
              <ConditionAlwaysTrue />
            </Values>
          </TriggerCondition>
          
          
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                  <Values>
                    <Condition />
                    <ConditionAlwaysTrue />
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    
    
    <!-- TODO... ConditionItemUsed funzt leider nicht für schuss-items... -->
     <!-- bleibt also nur der Weg jedem item-projektil ein eigenes SpawnOnImpact zu geben.. -->
    <!-- <Asset> -->
      <!-- <Template>Trigger</Template> -->
      <!-- <Values> -->
        <!-- <Standard> -->
          <!-- <GUID>1500001589</GUID> -->
          <!-- <Name>substract Ressource on Item Use</Name> -->
        <!-- </Standard> -->
        <!-- <Trigger> -->
          <!-- <TriggerCondition> -->
            <!-- <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset> -->
            <!-- <Values> -->
              <!-- <Condition> -->
                <!-- <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder> -->
              <!-- </Condition> -->
              <!-- <ConditionAlwaysTrue /> -->
            <!-- </Values> -->
          <!-- </TriggerCondition> -->
          <!-- <SubTriggers> -->
            <!-- <Item> -->
              <!-- <SubTrigger> -->
                <!-- <Template>AutoCreateTrigger</Template> -->
                <!-- <Values> -->
                  <!-- <Trigger> -->
                    <!-- <TriggerCondition> -->
                      <!-- <Values> -->
                        <!-- <Condition /> -->
                        <!-- <ConditionItemUsed> -->
                          <!-- <TargetItem>1500001180</TargetItem> -->
                          <!-- <ItemAmount>1</ItemAmount> -->
                          <!-- <ItemTargetObject>0</ItemTargetObject> -->
                          <!-- <ItemNeedsActivation>1</ItemNeedsActivation> -->
                        <!-- </ConditionItemUsed> -->
                      <!-- </Values> -->
                    <!-- </TriggerCondition> -->
                    <!-- <TriggerActions> -->
                      <!-- <Item> -->
                        <!-- <TriggerAction> -->
                          <!-- <Template>ActionAddResource</Template> -->
                          <!-- <Values> -->
                            <!-- <Action /> -->
                            <!-- <ActionAddResource> -->
                              <!-- <Resource>1500002151</Resource> -->
                              <!-- <ResourceAmount>-1</ResourceAmount> -->
                            <!-- </ActionAddResource> -->
                          <!-- </Values> -->
                        <!-- </TriggerAction> -->
                      <!-- </Item> -->
                    <!-- </TriggerActions> -->
                  <!-- </Trigger> -->
                <!-- </Values> -->
              <!-- </SubTrigger> -->
            <!-- </Item> -->

          <!-- </SubTriggers> -->
          <!-- <ResetTrigger> -->
            <!-- <Template>AutoCreateTrigger</Template> -->
            <!-- <Values> -->
              <!-- <Trigger> -->
                <!-- <TriggerCondition> -->
                  <!-- <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset> -->
                  <!-- <Values> -->
                    <!-- <Condition /> -->
                    <!-- <ConditionAlwaysTrue /> -->
                  <!-- </Values> -->
                <!-- </TriggerCondition> -->
              <!-- </Trigger> -->
            <!-- </Values> -->
          <!-- </ResetTrigger> -->
        <!-- </Trigger> -->
        <!-- <TriggerSetup> -->
          <!-- <AutoRegisterTrigger>0</AutoRegisterTrigger> -->
          <!-- <UsedBySecondParties>0</UsedBySecondParties> -->
        <!-- </TriggerSetup> -->
      <!-- </Values> -->
    <!-- </Asset> -->
    
    
  </ModOp>
  

    
</ModOps>