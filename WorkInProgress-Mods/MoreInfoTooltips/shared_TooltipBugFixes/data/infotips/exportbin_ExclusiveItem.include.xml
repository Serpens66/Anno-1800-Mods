<ModOps>
  
  <!-- https://github.com/jakobharder/anno1800-mod-loader/blob/main/doc/modloader11.md#patching-infotip-exportbin -->
    <!-- to export the tooltips from the game use FileDBReader and the FileFormat "infotip.xml" and unpack "data\infotips\export.bin" -->
    <!-- or download it in anno modding discord here: -->
    <!-- https://discord.com/channels/578443209940926465/1146098268850376816/1149910673678159964 -->


  <!-- Add a line with Item ExclusiveGroup after the line about allocation of the item (very mod-compatible code) -->
  <!-- we can not access GUID/icon from ExclusiveGroup in tooltips, so no way to make each group their own icon. so one general for all of them -->
  <!-- ItemResearchInfotip -->
  <ModOp Type="AddNextSibling" Path="//InfoTipData[Guid='124999']/InfoElement[InfoElement/InfoElement/Text/TextGUID='13060']">
    <InfoElement>
      <ElementType>8</ElementType>
      <ChildCount>2</ChildCount>
      <VisibilityElement>
        <ElementType>
          <ElementType>2</ElementType>
        </ElementType>
        <ChildCount>1</ChildCount>
        <VisibilityElement>
          <ElementType>
            <ElementType>1</ElementType>
          </ElementType>
          <CompareOperator />
          <ResultType />
          <Condition>[ToolOneHelper ItemHasExclusiveGroup([RefGuid])]</Condition>
        </VisibilityElement>
        <OperatorType />
      </VisibilityElement>
      <InfoElement>
        <ElementType>4</ElementType>
        <VisibilityElement>
          <ElementType>
            <ElementType>2</ElementType>
          </ElementType>
          <OperatorType />
        </VisibilityElement>
        <Icon>
          <IconText>[AssetData(1500004503) Icon]</IconText>
          <Style />
        </Icon>
        <Text>
          <TextGUID>1500004503</TextGUID>
          <Style />
        </Text>
        <Value>
          <Style />
        </Value>
        <WarningType />
        <BackgroundType />
      </InfoElement>
    </InfoElement>
  </ModOp>
  
  <!-- ItemDonationInfotip -->
  <ModOp Type="AddNextSibling" Path="//InfoTipData[Guid='125000']/InfoElement[InfoElement/InfoElement/Text/TextGUID='13060']">
    <InfoElement>
      <ElementType>8</ElementType>
      <ChildCount>2</ChildCount>
      <VisibilityElement>
        <ElementType>
          <ElementType>2</ElementType>
        </ElementType>
        <ChildCount>1</ChildCount>
        <VisibilityElement>
          <ElementType>
            <ElementType>1</ElementType>
          </ElementType>
          <CompareOperator />
          <ResultType />
          <Condition>[ToolOneHelper ItemHasExclusiveGroup([RefGuid])]</Condition>
        </VisibilityElement>
        <OperatorType />
      </VisibilityElement>
      <InfoElement>
        <ElementType>4</ElementType>
        <VisibilityElement>
          <ElementType>
            <ElementType>2</ElementType>
          </ElementType>
          <OperatorType />
        </VisibilityElement>
        <Icon>
          <IconText>[AssetData(1500004503) Icon]</IconText>
          <Style />
        </Icon>
        <Text>
          <TextGUID>1500004503</TextGUID>
          <Style />
        </Text>
        <Value>
          <Style />
        </Value>
        <WarningType />
        <BackgroundType />
      </InfoElement>
    </InfoElement>
  </ModOp>
  
  <!-- ItemRecipeOrCraftingInfotip -->
  <ModOp Type="AddNextSibling" Path="//InfoTipData[Guid='128472']/InfoElement[InfoElement/InfoElement/Text/TextGUID='13060']">
    <InfoElement>
      <ElementType>8</ElementType>
      <ChildCount>2</ChildCount>
      <VisibilityElement>
        <ElementType>
          <ElementType>2</ElementType>
        </ElementType>
        <ChildCount>1</ChildCount>
        <VisibilityElement>
          <ElementType>
            <ElementType>1</ElementType>
          </ElementType>
          <CompareOperator />
          <ResultType />
          <Condition>[ToolOneHelper ItemHasExclusiveGroup([RefGuid])]</Condition>
        </VisibilityElement>
        <OperatorType />
      </VisibilityElement>
      <InfoElement>
        <ElementType>4</ElementType>
        <VisibilityElement>
          <ElementType>
            <ElementType>2</ElementType>
          </ElementType>
          <OperatorType />
        </VisibilityElement>
        <Icon>
          <IconText>[AssetData(1500004503) Icon]</IconText>
          <Style />
        </Icon>
        <Text>
          <TextGUID>1500004503</TextGUID>
          <Style />
        </Text>
        <Value>
          <Style />
        </Value>
        <WarningType />
        <BackgroundType />
      </InfoElement>
    </InfoElement>
  </ModOp>
  
  <!-- ExpeditionItemGoodsInfoTip -->
  <ModOp Type="AddNextSibling" Path="//InfoTipData[Guid='500933']/InfoElement[InfoElement/Text/TextGUID='13060']">
    <InfoElement>
      <ElementType>8</ElementType>
      <ChildCount>2</ChildCount>
      <VisibilityElement>
        <ElementType>
          <ElementType>2</ElementType>
        </ElementType>
        <ChildCount>1</ChildCount>
        <VisibilityElement>
          <ElementType>
            <ElementType>1</ElementType>
          </ElementType>
          <CompareOperator />
          <ResultType />
          <Condition>[ToolOneHelper ItemHasExclusiveGroup([RefGuid])]</Condition>
        </VisibilityElement>
        <OperatorType />
      </VisibilityElement>
      <InfoElement>
        <ElementType>4</ElementType>
        <VisibilityElement>
          <ElementType>
            <ElementType>2</ElementType>
          </ElementType>
          <OperatorType />
        </VisibilityElement>
        <Icon>
          <IconText>[AssetData(1500004503) Icon]</IconText>
          <Style />
        </Icon>
        <Text>
          <TextGUID>1500004503</TextGUID>
          <Style />
        </Text>
        <Value>
          <Style />
        </Value>
        <WarningType />
        <BackgroundType />
      </InfoElement>
    </InfoElement>
  </ModOp>
  
  <ModOp Type="AddNextSibling" Path="//InfoTipData[Guid='25000083']/InfoElement[InfoElement/InfoElement/InfoElement/Text/TextGUID='13060']">
    <InfoElement>
      <ElementType>8</ElementType>
      <ChildCount>2</ChildCount>
      <VisibilityElement>
        <ElementType>
          <ElementType>2</ElementType>
        </ElementType>
        <ChildCount>1</ChildCount>
        <VisibilityElement>
          <ElementType>
            <ElementType>1</ElementType>
          </ElementType>
          <CompareOperator />
          <ResultType />
          <Condition>[ToolOneHelper ItemHasExclusiveGroup([RefGuid])]</Condition>
        </VisibilityElement>
        <OperatorType />
      </VisibilityElement>
      <InfoElement>
        <ElementType>4</ElementType>
        <VisibilityElement>
          <ElementType>
            <ElementType>2</ElementType>
          </ElementType>
          <OperatorType />
        </VisibilityElement>
        <Icon>
          <IconText>[AssetData(1500004503) Icon]</IconText>
          <Style />
        </Icon>
        <Text>
          <TextGUID>1500004503</TextGUID>
          <Style />
        </Text>
        <Value>
          <Style />
        </Value>
        <WarningType />
        <BackgroundType />
      </InfoElement>
    </InfoElement>
  </ModOp>
  
  <!-- ItemSocketInfotip -->
  <ModOp Type="AddNextSibling" Path="//InfoTipData[Guid='25000084']/InfoElement[InfoElement/InfoElement/InfoElement/Text/TextGUID='13060']">
    <InfoElement>
      <ElementType>8</ElementType>
      <ChildCount>2</ChildCount>
      <VisibilityElement>
        <ElementType>
          <ElementType>2</ElementType>
        </ElementType>
        <ChildCount>1</ChildCount>
        <VisibilityElement>
          <ElementType>
            <ElementType>1</ElementType>
          </ElementType>
          <CompareOperator />
          <ResultType />
          <Condition>[ToolOneHelper ItemHasExclusiveGroup([RefGuid])]</Condition>
        </VisibilityElement>
        <OperatorType />
      </VisibilityElement>
      <InfoElement>
        <ElementType>4</ElementType>
        <VisibilityElement>
          <ElementType>
            <ElementType>2</ElementType>
          </ElementType>
          <OperatorType />
        </VisibilityElement>
        <Icon>
          <IconText>[AssetData(1500004503) Icon]</IconText>
          <Style />
        </Icon>
        <Text>
          <TextGUID>1500004503</TextGUID>
          <Style />
        </Text>
        <Value>
          <Style />
        </Value>
        <WarningType />
        <BackgroundType />
      </InfoElement>
    </InfoElement>
  </ModOp>
  
  
  
  <!-- First attempt to add it directly next to ItemRarity. (Instead we will add a new line below Allocation, because this looks better I think and is more clear) -->
  
  <!-- Adding ExclusiveGroup from Items to their Description -->
  <!-- next to all occurances of ItemRarity -->
  <!-- replacing Text with TextGUID, so it can more freely designed in texts file -->
  <!-- [ToolOneHelper ItemRarity([RefGuid])] [ToolOneHelper ItemExclusiveGroup([RefGuid])] -->
  <!-- Not sure yet if all of these 7 different infotips looks well with the new text. Define them in individual modops, so -->
   <!-- we can use different text in case it is needed. -->
   <!-- Unfortunately "ItemStorageInfotip" is used for infotip in kontor/statistic screen, also for the brown background text. -->
    <!-- That means using 2 lines in the new text (one for rarity and below the ExclusiveGroup) will not look that nice for that one. -->
  <!-- ItemResearchInfotip -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='124999']/InfoElement/Subline[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>1</Text> -->
  <!-- </ModOp> -->
  <!-- ItemDonationInfotip -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='125000']/InfoElement/Subline[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>2</Text> -->
  <!-- </ModOp> -->
  <!-- ItemRecipeOrCraftingInfotip -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='128472']/InfoElement/Subline[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>3</Text> -->
  <!-- </ModOp> -->
  <!-- ExpeditionItemGoodsInfoTip -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='500933']/InfoElement/SubText[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>4</Text> -->
  <!-- </ModOp> -->
  <!-- ItemStorageInfotip -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='25000083']/InfoElement/Subline[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>5</Text> -->
  <!-- </ModOp>   -->
  <!-- ItemSocketInfotip -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='25000084']/InfoElement/Subline[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>6</Text> -->
  <!-- </ModOp> -->
  <!-- StorageGoodsInfoTip (does not list Allocation) -->
  <!-- <ModOp Type="replace" Path="//InfoTipData[Guid='25000151']/InfoElement/SubText[Text='[ToolOneHelper ItemRarity([RefGuid])]']/Text"> -->
    <!-- <TextGUID>1500004503</TextGUID> -->
    <!-- <Text>7</Text> -->
  <!-- </ModOp> -->
  
</ModOps>