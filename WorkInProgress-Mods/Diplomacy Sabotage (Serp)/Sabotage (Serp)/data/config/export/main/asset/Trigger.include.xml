<ModOps>

  
  <!-- ################################################### -->
  <!-- ##  Trigger  ## -->
  <!-- ################################################### -->
  
  <!-- general triggers -->
  
  <!-- give every human player unit buildpermits at game start -->
  <ModOp GUID="130248" Type="AddNextSibling">
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001176</GUID>
          <Name>Distribute Build Permits for Spy Unit</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
            <Values>
              <Condition />
              <ConditionAlwaysTrue />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500001173</Resource>
                    <ResourceAmount>1</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500001499</Resource>
                    <ResourceAmount>10</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionUnlockAsset</Template>
                <Values>
                  <Action />
                  <ActionUnlockAsset>
                    <UnhideAssets>
                      <Item>
                        <Asset>1500001192</Asset>
                      </Item>
                      <Item>
                        <Asset>1500001173</Asset>
                      </Item>
                      <Item>
                        <Asset>1500001478</Asset>
                      </Item>
                      <Item>
                        <Asset>1500001499</Asset>
                      </Item>
                    </UnhideAssets>
                  </ActionUnlockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
        <TriggerSetup>
            <AutoRegisterTrigger>1</AutoRegisterTrigger>
            <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
  <!-- ########################################################################### -->
  
  <!-- limit the barracks building to x (1) per island -->
  
  <!-- We can not limit the number of police units the same way because: -->
  <!-- 1) walkbable objects are not assigend to an area (island) so we would have to check the number per session instead:  -->
      <!-- <DataSource>[Participants Participant([Selection Object Area Owner Int]) ProfileCounter Stats Counter(0,0,1500001499,1,[Selection Object SessionGuid])]</DataSource> -->
  <!-- 2) Locking the object again does not stop the current production queue ... -->
  
  <!-- TODO: noch andere Lösung für die Police Limitierung finden -->
   <!-- sodass man pro aktiver session x stück haben kann (von mir aus auch alle in einer session) -->
    <!-- am besten ohne die Sessions hardcoden zu müssen... -->
  
  <Asset>
    <Template>Trigger</Template>
    <Values>
      <Standard>
        <GUID>1500001425</GUID>
        <Name>Your regular normal unlock Trigger you might already have (must be lowest GUID from all triggers) and it registers our first ConditionThreshold Trigger</Name>
      </Standard>
      <Trigger>
        <TriggerCondition>
          <Template>ConditionPlayerCounter</Template>
          <Values>
            <Condition />
            <ConditionPlayerCounter>
              <PlayerCounter>PopulationByLevel</PlayerCounter>
              <Context>15000000</Context>
              <CounterAmount>50</CounterAmount>
            </ConditionPlayerCounter>
          </Values>
        </TriggerCondition>
        <TriggerActions>
          <Item>
            <TriggerAction>
              <Template>ActionUnlockAsset</Template>
              <Values>
                <Action />
                <ActionUnlockAsset>
                  <UnlockAssets>
                    <Item>
                      <Asset>1500001192</Asset>
                    </Item>
                    <Item>
                      <Asset>1500001173</Asset>
                    </Item>
                    <Item>
                      <Asset>1500001478</Asset>
                    </Item>
                    <Item>
                      <Asset>1500001499</Asset>
                    </Item>
                  </UnlockAssets>
                </ActionUnlockAsset>
              </Values>
            </TriggerAction>
          </Item>
          <Item>
            <TriggerAction>
              <Template>ActionRegisterTrigger</Template>
              <Values>
                <Action />
                <ActionRegisterTrigger>
                  <TriggerAsset>1500001567</TriggerAsset>
                </ActionRegisterTrigger>
              </Values>
            </TriggerAction>
          </Item>
        </TriggerActions>
      </Trigger>
      <TriggerSetup>
        <AutoRegisterTrigger>1</AutoRegisterTrigger>
        <UsedBySecondParties>0</UsedBySecondParties>
      </TriggerSetup>
    </Values>
  </Asset>
  
  <Asset>
    <Template>Trigger</Template>
    <Values>
      <Standard>
        <GUID>1500001556</GUID>
        <Name>display custom unlock condition (lowest Trigger GUID which is not unlocked and unlocks the asset is used as displayed condition)</Name>
      </Standard>
      <Trigger>
        <TriggerCondition>
          <Template>ConditionPlayerCounter</Template>
          <Values>
            <Condition />
            <ConditionPlayerCounter>
              <PlayerCounter>ObjectBuilt</PlayerCounter>
              <Context>1500001192</Context>
              <CounterAmount>1</CounterAmount>
              <ComparisonOp>LessThan</ComparisonOp>
            </ConditionPlayerCounter>
          </Values>
        </TriggerCondition>
        <SubTriggers>
          <Item>
            <SubTrigger>
              <Template>AutoCreateTrigger</Template>
              <Values>
                <Trigger>
                  <TriggerCondition>
                    <Template>ConditionAlwaysFalse</Template>
                    <Values>
                      <Condition />
                      <ConditionAlwaysFalse />
                    </Values>
                  </TriggerCondition>
                </Trigger>
              </Values>
            </SubTrigger>
          </Item>
        </SubTriggers>
        <TriggerActions>
          <Item>
            <TriggerAction>
              <Template>ActionUnlockAsset</Template>
              <Values>
                <Action />
                <ActionUnlockAsset>
                  <UnlockAssets>
                    <Item>
                      <Asset>1500001192</Asset>
                    </Item>
                  </UnlockAssets>
                </ActionUnlockAsset>
              </Values>
            </TriggerAction>
          </Item>
        </TriggerActions>
      </Trigger>
      <TriggerSetup>
        <AutoRegisterTrigger>1</AutoRegisterTrigger>
        <UsedBySecondParties>0</UsedBySecondParties>
      </TriggerSetup>
    </Values>
  </Asset>
  
  <Asset>
    <Template>Trigger</Template>
    <Values>
      <Standard>
        <GUID>1500001567</GUID>
        <Name>Unlock your asset if within the threshold (ConditionThreshold must be main Condition, never SubTrigger, otherwise endless loading screen)</Name>
      </Standard>
      <Trigger>
        <TriggerCondition>
          <Template>ConditionThreshold</Template>
          <Values>
            <Condition />
            <ConditionThreshold>
              <DataSource>[AreaManager AreaObjects ObjectLists BuildingsWithGameLogicCount(1500001192)]</DataSource>
              <LowerThreshold>0</LowerThreshold>
              <UpperThreshold>0</UpperThreshold>
              <ThresholdDuration>0</ThresholdDuration>
              <IsAreaSpecific>1</IsAreaSpecific>
            </ConditionThreshold>
          </Values>
        </TriggerCondition>
        <TriggerActions>
          <Item>
            <TriggerAction>
              <Template>ActionUnlockAsset</Template>
              <Values>
                <Action />
                <ActionUnlockAsset>
                  <UnlockAssets>
                    <Item>
                      <Asset>1500001192</Asset>
                    </Item>
                  </UnlockAssets>
                </ActionUnlockAsset>
              </Values>
            </TriggerAction>
          </Item>
          <Item>
            <TriggerAction>
              <Template>ActionRegisterTrigger</Template>
              <Values>
                <Action />
                <ActionRegisterTrigger>
                  <TriggerAsset>1500001719</TriggerAsset>
                </ActionRegisterTrigger>
              </Values>
            </TriggerAction>
          </Item>
        </TriggerActions>
      </Trigger>
      <TriggerSetup>
        <AutoRegisterTrigger>0</AutoRegisterTrigger>
        <UsedBySecondParties>0</UsedBySecondParties>
      </TriggerSetup>
    </Values>
  </Asset>
  
  <Asset>
    <Template>Trigger</Template>
    <Values>
      <Standard>
        <GUID>1500001719</GUID>
        <Name>Lock asset again if current island has x or more built</Name>
      </Standard>
      <Trigger>
        <TriggerCondition>
          <Template>ConditionThreshold</Template>
          <Values>
            <Condition />
            <ConditionThreshold>
              <DataSource>[AreaManager AreaObjects ObjectLists BuildingsWithGameLogicCount(1500001192)]</DataSource>
              <LowerThreshold>1</LowerThreshold>
              <UpperThreshold>10000</UpperThreshold>
              <ThresholdDuration>0</ThresholdDuration>
              <IsAreaSpecific>1</IsAreaSpecific>
            </ConditionThreshold>
          </Values>
        </TriggerCondition>
        <TriggerActions>
          <Item>
            <TriggerAction>
              <Template>ActionLockAsset</Template>
              <Values>
                <Action />
                <ActionLockAsset>
                  <LockAssets>
                    <Item>
                      <Asset>1500001192</Asset>
                    </Item>
                  </LockAssets>
                </ActionLockAsset>
              </Values>
            </TriggerAction>
          </Item>
          <Item>
            <TriggerAction>
              <Template>ActionUnlockAsset</Template>
              <Values>
                <Action />
                <ActionUnlockAsset>
                  <UnhideAssets>
                    <Item>
                      <Asset>1500001192</Asset>
                    </Item>
                  </UnhideAssets>
                </ActionUnlockAsset>
              </Values>
            </TriggerAction>
          </Item>
          <Item>
            <TriggerAction>
              <Template>ActionRegisterTrigger</Template>
              <Values>
                <Action />
                <ActionRegisterTrigger>
                  <TriggerAsset>1500001567</TriggerAsset>
                </ActionRegisterTrigger>
              </Values>
            </TriggerAction>
          </Item>
        </TriggerActions>
      </Trigger>
      <TriggerSetup>
        <AutoRegisterTrigger>0</AutoRegisterTrigger>
        <UsedBySecondParties>0</UsedBySecondParties>
      </TriggerSetup>
    </Values>
  </Asset>
  
  <!-- ########################################################################### -->
    
    
    
    <!-- TODO: noch ne lösung für savegames finden, damit man auch da die richtige Zahl an Permits hat... -->
    <!-- stattdessen conditionthreshold nehmen! -->
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001437</GUID>
          <Name>Distribute Build Permits for Barracks and Police Unit ony every new Session Load, so you have x per session (not execute for first world session)</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <Template>ConditionEvent</Template>
            <Values>
              <Condition />
              <ConditionEvent>
                <ConditionEvent>SessionLoaded</ConditionEvent>
                <ContextAssetInfolayer>0</ContextAssetInfolayer>
              </ConditionEvent>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500001192</Resource>
                    <ResourceAmount>8</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500001499</Resource>
                    <ResourceAmount>8</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
        <TriggerSetup>
            <AutoRegisterTrigger>1</AutoRegisterTrigger>
            <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    


  <!-- ActionSetObjectGUID does not work properly for this unit (does not move afterwards anymore) ..  -->
  <!-- But it also WORKS: to spawn the very same GUID and use ActionDeleteObjects with MaxObjectCount=1, this will always delete the oldest Object according to tests -->
  <!-- But we use a seperate Spy-ship GUID instead, so everything is fine -->
  
                    
  <!-- Trigger for spawning/teleporting global Units ("spy to ship" - only works of course if every player only has this GUID once) -->
  <!-- if human spy/police unit was build or spawned, renew the pirateflag buff for these units (without renew it does not work properly for new units)  -->
  <!-- if human spy unit was spawned, it was by the projectile code, then delete the previous spy guid and correct the BuildPermit amount, because deleting gives one permit back, but spawning does not cost a permit -->
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001190</GUID>
          <Name>Teleport and PirateBuff</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
            <Values>
              <Condition>
                <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
              </Condition>
              <ConditionAlwaysTrue />
            </Values>
          </TriggerCondition>
          <SubTriggers>
             <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                      <Values>
                        <Condition>
                          <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
                        </Condition>
                        <ConditionAlwaysTrue />
                      </Values>
                    </TriggerCondition>
                    <!-- built with building (we need to check this first in order, because ConditionPlayerCounter will trigger for both, building and spawned by item, while ConditionEvent does not trigger for spawn with item) -->
                    <SubTriggers>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionEvent</Template>
                                <Values>
                                  <Condition />
                                  <ConditionEvent>
                                    <ConditionEvent>ObjectBuilt</ConditionEvent>
                                    <ContextAsset>1500001173</ContextAsset>
                                    <ContextAssetInfolayer>0</ContextAssetInfolayer>
                                  </ConditionEvent>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDelayedActions</Template>
                                    <Values>
                                      <Action />
                                      <ActionDelayedActions>
                                        <ExecutionDelay>1000</ExecutionDelay>
                                        <DelayedActions>
                                          <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                                          <Values>
                                            <ActionList>
                                              <Actions>
                                                <Item>
                                                  <Action>
                                                    <Template>ActionRegisterTrigger</Template>
                                                    <Values>
                                                      <Action />
                                                      <ActionRegisterTrigger>
                                                        <TriggerAsset>1500001588</TriggerAsset>
                                                      </ActionRegisterTrigger>
                                                    </Values>
                                                  </Action>
                                                </Item>
                                              </Actions>
                                            </ActionList>
                                          </Values>
                                        </DelayedActions>
                                      </ActionDelayedActions>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionEvent</Template>
                                <Values>
                                  <Condition />
                                  <ConditionEvent>
                                    <ConditionEvent>ObjectBuilt</ConditionEvent>
                                    <ContextAsset>1500001478</ContextAsset>
                                    <ContextAssetInfolayer>0</ContextAssetInfolayer>
                                  </ConditionEvent>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDelayedActions</Template>
                                    <Values>
                                      <Action />
                                      <ActionDelayedActions>
                                        <ExecutionDelay>1000</ExecutionDelay>
                                        <DelayedActions>
                                          <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                                          <Values>
                                            <ActionList>
                                              <Actions>
                                                <Item>
                                                  <Action>
                                                    <Template>ActionRegisterTrigger</Template>
                                                    <Values>
                                                      <Action />
                                                      <ActionRegisterTrigger>
                                                        <TriggerAsset>1500001589</TriggerAsset>
                                                      </ActionRegisterTrigger>
                                                    </Values>
                                                  </Action>
                                                </Item>
                                              </Actions>
                                            </ActionList>
                                          </Values>
                                        </DelayedActions>
                                      </ActionDelayedActions>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionEvent</Template>
                                <Values>
                                  <Condition />
                                  <ConditionEvent>
                                    <ConditionEvent>ObjectBuilt</ConditionEvent>
                                    <ContextAsset>1500001499</ContextAsset>
                                    <ContextAssetInfolayer>0</ContextAssetInfolayer>
                                  </ConditionEvent>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                    </SubTriggers>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
            <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                      <Values>
                        <Condition>
                          <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
                        </Condition>
                        <ConditionAlwaysTrue />
                      </Values>
                    </TriggerCondition>
                    <!-- spawned with item by human -->
                    <SubTriggers>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionPlayerCounter</Template>
                                <Values>
                                  <Condition />
                                  <ConditionPlayerCounter>
                                    <PlayerCounter>ObjectBuilt</PlayerCounter>
                                    <Context>1500001173</Context>
                                    <CounterAmount>1</CounterAmount>
                                    <RelativeToQuestStart>1</RelativeToQuestStart>
                                  </ConditionPlayerCounter>
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDeleteObjects</Template>
                                    <Values>
                                      <Action />
                                      <ActionDeleteObjects />
                                      <ObjectFilter>
                                        <ObjectGUID>1500001478</ObjectGUID>
                                        <CheckParticipantID>1</CheckParticipantID>
                                        <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
                                      </ObjectFilter>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDelayedActions</Template>
                                    <Values>
                                      <Action />
                                      <ActionDelayedActions>
                                        <ExecutionDelay>1000</ExecutionDelay>
                                        <DelayedActions>
                                          <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                                          <Values>
                                            <ActionList>
                                              <Actions>
                                                <Item>
                                                  <Action>
                                                    <Template>ActionRegisterTrigger</Template>
                                                    <Values>
                                                      <Action />
                                                      <ActionRegisterTrigger>
                                                        <TriggerAsset>1500001588</TriggerAsset>
                                                      </ActionRegisterTrigger>
                                                    </Values>
                                                  </Action>
                                                </Item>
                                              </Actions>
                                            </ActionList>
                                          </Values>
                                        </DelayedActions>
                                      </ActionDelayedActions>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionPlayerCounter</Template>
                                <Values>
                                  <Condition />
                                  <ConditionPlayerCounter>
                                    <PlayerCounter>ObjectBuilt</PlayerCounter>
                                    <Context>1500001478</Context>
                                    <CounterAmount>1</CounterAmount>
                                    <RelativeToQuestStart>1</RelativeToQuestStart>
                                  </ConditionPlayerCounter>
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDeleteObjects</Template>
                                    <Values>
                                      <Action />
                                      <ActionDeleteObjects />
                                      <ObjectFilter>
                                        <ObjectGUID>1500001173</ObjectGUID>
                                        <CheckParticipantID>1</CheckParticipantID>
                                        <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
                                      </ObjectFilter>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDelayedActions</Template>
                                    <Values>
                                      <Action />
                                      <ActionDelayedActions>
                                        <ExecutionDelay>1000</ExecutionDelay>
                                        <DelayedActions>
                                          <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                                          <Values>
                                            <ActionList>
                                              <Actions>
                                                <Item>
                                                  <Action>
                                                    <Template>ActionRegisterTrigger</Template>
                                                    <Values>
                                                      <Action />
                                                      <ActionRegisterTrigger>
                                                        <TriggerAsset>1500001589</TriggerAsset>
                                                      </ActionRegisterTrigger>
                                                    </Values>
                                                  </Action>
                                                </Item>
                                              </Actions>
                                            </ActionList>
                                          </Values>
                                        </DelayedActions>
                                      </ActionDelayedActions>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                    </SubTriggers>
                    <TriggerActions>
                      <Item>
                        <TriggerAction>
                          <Template>ActionAddResource</Template>
                          <Values>
                            <Action />
                            <ActionAddResource>
                              <Resource>1500001173</Resource>
                              <ResourceAmount>-1</ResourceAmount>
                            </ActionAddResource>
                          </Values>
                        </TriggerAction>
                      </Item>
                    </TriggerActions>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
          </SubTriggers>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionDelayedActions</Template>
                <Values>
                  <Action />
                  <ActionDelayedActions>
                    <ExecutionDelay>100</ExecutionDelay>
                    <DelayedActions>
                      <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                      <Values>
                        <ActionList>
                          <Actions>
                            <Item>
                              <Action>
                                <Template>ActionBuff</Template>
                                <Values>
                                  <Action />
                                  <ActionBuff>
                                    <BuffAsset>1500001186</BuffAsset>
                                    <AddBuff>0</AddBuff>
                                    <BuffProcessingParticipant>1</BuffProcessingParticipant>
                                  </ActionBuff>
                                </Values>
                              </Action>
                            </Item>
                            <Item>
                              <Action>
                                <Template>ActionBuff</Template>
                                <Values>
                                  <Action />
                                  <ActionBuff>
                                    <BuffAsset>1500001186</BuffAsset>
                                    <AddBuff>1</AddBuff>
                                    <BuffProcessingParticipant>1</BuffProcessingParticipant>
                                  </ActionBuff>
                                </Values>
                              </Action>
                            </Item>
                            <!-- <Item> -->
                              <!-- <Action> -->
                                <!-- <Template>ActionDelayedActions</Template> -->
                                <!-- <Values> -->
                                  <!-- <Action /> -->
                                  <!-- <ActionDelayedActions> -->
                                    <!-- <ExecutionDelay>500</ExecutionDelay> -->
                                    <!-- <DelayedActions> -->
                                      <!-- <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset> -->
                                      <!-- <Values> -->
                                        <!-- <ActionList> -->
                                          <!-- <Actions> -->
                                            <!-- <Item> -->
                                              <!-- <Action> -->
                                                <!-- <Template>ActionBuff</Template> -->
                                                <!-- <Values> -->
                                                  <!-- <Action /> -->
                                                  <!-- <ActionBuff> -->
                                                    <!-- <BuffAsset>1500001186</BuffAsset> -->
                                                    <!-- <AddBuff>1</AddBuff> -->
                                                    <!-- <BuffProcessingParticipant>1</BuffProcessingParticipant> -->
                                                  <!-- </ActionBuff> -->
                                                <!-- </Values> -->
                                              <!-- </Action> -->
                                            <!-- </Item> -->
                                          <!-- </Actions> -->
                                        <!-- </ActionList> -->
                                      <!-- </Values> -->
                                    <!-- </DelayedActions> -->
                                  <!-- </ActionDelayedActions> -->
                                <!-- </Values> -->
                              <!-- </Action> -->
                            <!-- </Item> -->
                          </Actions>
                        </ActionList>
                      </Values>
                    </DelayedActions>
                  </ActionDelayedActions>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                  <Values>
                    <Condition />
                    <ConditionAlwaysTrue />
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    

  
    

    <!-- ActionDeleteObjects mit MaxObjectCount=1 loescht immer das älteste -->
    <!-- der ExecutionDelay sollte ungefähr soviel zeit sein, wie zwischen 2 sabotage akten an zeit mindestens liegt (summe aus delay und Cooldown), damit man in erster Linie auf frischer Tat ertappt wird? -->
    <!-- alternativ: man könnte es auch zb. auf 10 minuten setzen, während man alle 2 minuten sabotieren kann. Dann würde alle 10 minuten nur ein objekt entfernt, und wenn man dann in 10 minuten 5 mal sabotiert hat, wird man für die restlichen 50 Minuten gejagt -->
      <!-- dann könnte man Chance erhöhen, dass einige polices zur Position des letzten sabotage/spies gehen, je mehr sabotage hilfsobjekte 1500001716 es aktuell gibt. -->
      <!-- dasselbe evlt für die chance als Schiff gefunden zu werden, sodass es da x verscheide Wanted-Level gibt quasi... -->
    
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001715</GUID>
          <Name>remove -recently sabotage- helper</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <Template>ConditionPlayerCounter</Template>
            <Values>
              <Condition>
                <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
              </Condition>
              <ConditionPlayerCounter>
                <PlayerCounter>ObjectBuilt</PlayerCounter>
                <Context>1500001716</Context>
                <CounterAmount>1</CounterAmount>
              </ConditionPlayerCounter>
            </Values>
          </TriggerCondition>
          <SubTriggers>
            <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <Template>ConditionUnlocked</Template>
                      <Values>
                        <Condition />
                        <ConditionUnlocked>
                          <UnlockNeeded>1500001600</UnlockNeeded>
                        </ConditionUnlocked>
                        <ConditionPropsNegatable />
                      </Values>
                    </TriggerCondition>
                    <TriggerActions>
                      <Item>
                        <TriggerAction>
                          <Template>ActionDelayedActions</Template>
                          <Values>
                            <Action />
                            <ActionDelayedActions>
                              <!-- todo test: -->
                              <ExecutionDelay>50000</ExecutionDelay>
                              <!-- <ExecutionDelay>360000</ExecutionDelay> -->
                              <DelayedActions>
                                <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                                <Values>
                                  <ActionList>
                                    <Actions>
                                      <Item>
                                        <Action>
                                          <Template>ActionDeleteObjects</Template>
                                          <Values>
                                            <Action />
                                            <ActionDeleteObjects />
                                            <ObjectFilter>
                                              <ObjectGUID>1500001716</ObjectGUID>
                                              <CheckParticipantID>1</CheckParticipantID>
                                              <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
                                              <MaxObjectCount>1</MaxObjectCount>
                                            </ObjectFilter>
                                          </Values>
                                        </Action>
                                      </Item>
                                    </Actions>
                                  </ActionList>
                                </Values>
                              </DelayedActions>
                            </ActionDelayedActions>
                          </Values>
                        </TriggerAction>
                      </Item>
                      

                      
                    </TriggerActions>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
            <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <Template>ConditionUnlocked</Template>
                      <Values>
                        <Condition />
                        <ConditionUnlocked>
                          <UnlockNeeded>1500001601</UnlockNeeded>
                        </ConditionUnlocked>
                        <ConditionPropsNegatable />
                      </Values>
                    </TriggerCondition>
                    <TriggerActions>
                      <Item>
                        <TriggerAction>
                          <Template>ActionDeleteObjects</Template>
                          <Values>
                            <Action />
                            <ActionDeleteObjects />
                            <ObjectFilter>
                              <ObjectGUID>1500001716</ObjectGUID>
                              <CheckParticipantID>1</CheckParticipantID>
                              <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
                            </ObjectFilter>
                          </Values>
                        </TriggerAction>
                      </Item>
                    </TriggerActions>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
          </SubTriggers>
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                  <Values>
                    <Condition />
                    <ConditionAlwaysTrue />
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>1</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    
    <!-- using SpawnImpactObject to make the mine spawn the sabotage-helper on explosion does not work and the projectile to sawpn the mine alreeady spawns the mine. so we spawn it with trigger instead. session does not matter -->
     <!-- wobei es auch am fehelnden ShipMaintenance in der seemine gelegen haben könnte, wodurch der owner vermutlich gefehlt hat und deswegen ConditionPlayerCounter es nicht finden konnte und auch Spawn on impact evlt neutralen owner spawned oderso -->
    <!-- stattdessen versuchen das sabotage objekt an der position des water-spies zu spawnen? Wobei wir leider die Session nicht kennen, deshalb wird das eher nichts. -->
     <!-- AI-polices bewegen sich ab und zu zu "closest"-Recently sabotage objekt, aber das sollte ok sein,wenn wir die hier am kartenrand spawnen, dann sollten die selten als ziel genutzt werden.. -->
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001727</GUID>
          <Name>Dropping Seamine with Spy is sabotage</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <Template>ConditionPlayerCounter</Template>
            <Values>
              <Condition />
              <ConditionPlayerCounter>
                <PlayerCounter>ObjectBuilt</PlayerCounter>
                <Context>1500001707</Context>
                <CounterAmount>1</CounterAmount>
                <RelativeToQuestStart>1</RelativeToQuestStart>
              </ConditionPlayerCounter>
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionSpawnObjects</Template>
                <Values>
                  <Action />
                  <ActionSpawnObjects>
                    <SpawnGUID>1500001716</SpawnGUID>
                    <Amount>1</Amount>
                    <OwnerIsProcessingParticipant>1</OwnerIsProcessingParticipant>
                  </ActionSpawnObjects>
                  <SpawnArea>
                    <DistanceToBorder>Near</DistanceToBorder>
                    <DistanceToIsland>Far</DistanceToIsland>
                  </SpawnArea>
                  <SessionFilter>
                    <AllowParentConditionSession>0</AllowParentConditionSession>
                    <Sessions>
                      <Item>
                        <Session>180023</Session>
                      </Item>
                    </Sessions>
                  </SessionFilter>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                  <Values>
                    <Condition />
                    <ConditionAlwaysTrue />
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    
    
    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001493</GUID>
          <Name>remove helpers after 1 sec</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <Template>ConditionPlayerCounter</Template>
            <Values>
              <Condition />
              <ConditionPlayerCounter>
                <PlayerCounter>ObjectBuilt</PlayerCounter>
                <Context>1500001554</Context>
                <CounterAmount>1</CounterAmount>
              </ConditionPlayerCounter>
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionDelayedActions</Template>
                <Values>
                  <Action />
                  <ActionDelayedActions>
                    <ExecutionDelay>1000</ExecutionDelay>
                    <DelayedActions>
                      <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                      <Values>
                        <ActionList>
                          <Actions>
                            <Item>
                              <Action>
                                <Template>ActionDeleteObjects</Template>
                                <Values>
                                  <Action />
                                  <ActionDeleteObjects />
                                  <ObjectFilter>
                                    <ObjectGUID>1500001554</ObjectGUID>
                                    <CheckParticipantID>1</CheckParticipantID>
                                    <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
                                  </ObjectFilter>
                                </Values>
                              </Action>
                            </Item>
                          </Actions>
                        </ActionList>
                      </Values>
                    </DelayedActions>
                  </ActionDelayedActions>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <Template>ConditionPlayerCounter</Template>
                  <Values>
                    <Condition />
                    <ConditionPlayerCounter>
                      <Context>1500001554</Context>
                      <CounterAmount>0</CounterAmount>
                      <ComparisonOp>AtMost</ComparisonOp>
                    </ConditionPlayerCounter>
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>1</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    

    <Asset>
      <Template>Trigger</Template>
      <Values>
        <Standard>
          <GUID>1500001861</GUID>
          <Name>Do Spy Post Sabo Actions</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
            <Values>
              <Condition>
                <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
              </Condition>
              <ConditionAlwaysTrue />
            </Values>
          </TriggerCondition>
          <SubTriggers>
            <!-- Show Warehouse UI for Spy Post only limited time (because of Trading Exploit)-->
            <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <Template>ConditionPlayerCounter</Template>
                      <Values>
                        <Condition />
                        <ConditionPlayerCounter>
                          <PlayerCounter>GoodsInStock</PlayerCounter>
                          <Context>1500001878</Context>
                          <CounterAmount>0</CounterAmount>
                          <ComparisonOp>AtMost</ComparisonOp>
                        </ConditionPlayerCounter>
                      </Values>
                    </TriggerCondition>
                    <SubTriggers>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionEvent</Template>
                                <Values>
                                  <Condition />
                                  <ConditionEvent>
                                    <ConditionEvent>ObjectBuilt</ConditionEvent>
                                    <ContextAsset>1500001833</ContextAsset>
                                    <ContextAssetInfolayer>0</ContextAssetInfolayer>
                                  </ConditionEvent>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionAddResource</Template>
                                    <Values>
                                      <Action />
                                      <ActionAddResource>
                                        <Resource>1500001878</Resource>
                                        <ResourceAmount>6</ResourceAmount>
                                      </ActionAddResource>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionUnlockAsset</Template>
                                    <Values>
                                      <Action />
                                      <ActionUnlockAsset>
                                        <UnlockAssets>
                                          <Item>
                                            <Asset>1500001507</Asset>
                                          </Item>
                                        </UnlockAssets>
                                      </ActionUnlockAsset>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionExecuteScript</Template>
                                    <Values>
                                      <Action />
                                      <ActionExecuteScript>
                                        <ScriptFileName>data/scripts_serp/reselectobject.lua</ScriptFileName>
                                      </ActionExecuteScript>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionDelayedActions</Template>
                                    <Values>
                                      <Action />
                                      <ActionDelayedActions>
                                        <ExecutionDelay>30000</ExecutionDelay>
                                        <DelayedActions>
                                          <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                                          <Values>
                                            <ActionList>
                                              <Actions>
                                                <Item>
                                                  <Action>
                                                    <Template>ActionLockAsset</Template>
                                                    <Values>
                                                      <Action />
                                                      <ActionLockAsset>
                                                        <LockAssets>
                                                          <Item>
                                                            <Asset>1500001507</Asset>
                                                          </Item>
                                                        </LockAssets>
                                                      </ActionLockAsset>
                                                    </Values>
                                                  </Action>
                                                </Item>
                                                <Item>
                                                  <Action>
                                                    <Template>ActionExecuteScript</Template>
                                                    <Values>
                                                      <Action />
                                                      <ActionExecuteScript>
                                                        <ScriptFileName>data/scripts_serp/reselectobject.lua</ScriptFileName>
                                                      </ActionExecuteScript>
                                                    </Values>
                                                  </Action>
                                                </Item>
                                              </Actions>
                                            </ActionList>
                                          </Values>
                                        </DelayedActions>
                                      </ActionDelayedActions>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                    </SubTriggers>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
            
            <!-- Buy island share for double price (without being limited by original cooldown) -->
            <Item>
              <SubTrigger>
                <Template>AutoCreateTrigger</Template>
                <Values>
                  <Trigger>
                    <TriggerCondition>
                      <Template>ConditionPlayerCounter</Template>
                      <Values>
                        <Condition />
                        <ConditionPlayerCounter>
                          <PlayerCounter>GoodsInStock</PlayerCounter>
                          <Context>1500001880</Context>
                          <CounterAmount>0</CounterAmount>
                          <ComparisonOp>AtMost</ComparisonOp>
                        </ConditionPlayerCounter>
                      </Values>
                    </TriggerCondition>
                    <SubTriggers>
                      <Item>
                        <SubTrigger>
                          <Template>AutoCreateTrigger</Template>
                          <Values>
                            <Trigger>
                              <TriggerCondition>
                                <Template>ConditionEvent</Template>
                                <Values>
                                  <Condition>
                                    <SubConditionCompletionOrder>MutuallyExclusive</SubConditionCompletionOrder>
                                  </Condition>
                                  <ConditionEvent>
                                    <ConditionEvent>ObjectBuilt</ConditionEvent>
                                    <ContextAsset>1500001879</ContextAsset>
                                    <ContextAssetInfolayer>0</ContextAssetInfolayer>
                                  </ConditionEvent>
                                  <ConditionPropsNegatable />
                                </Values>
                              </TriggerCondition>
                              <SubTriggers>
                                <Item>
                                  <SubTrigger>
                                    <Template>AutoCreateTrigger</Template>
                                    <Values>
                                      <Trigger>
                                        <TriggerCondition>
                                          <Template>WhichPlayer_Human0</Template>
                                          <Values />
                                        </TriggerCondition>
                                        <TriggerActions>
                                          <Item>
                                            <TriggerAction>
                                              <Template>ActionExecuteScript</Template>
                                              <Values>
                                                <Action />
                                                <ActionExecuteScript>
                                                  <ScriptFileName>data/scripts_serp/spybuyshare_0.lua</ScriptFileName>
                                                </ActionExecuteScript>
                                              </Values>
                                            </TriggerAction>
                                          </Item>
                                        </TriggerActions>
                                      </Trigger>
                                    </Values>
                                  </SubTrigger>
                                </Item>
                                <Item>
                                  <SubTrigger>
                                    <Template>AutoCreateTrigger</Template>
                                    <Values>
                                      <Trigger>
                                        <TriggerCondition>
                                          <Template>WhichPlayer_Human1</Template>
                                          <Values />
                                        </TriggerCondition>
                                        <TriggerActions>
                                          <Item>
                                            <TriggerAction>
                                              <Template>ActionExecuteScript</Template>
                                              <Values>
                                                <Action />
                                                <ActionExecuteScript>
                                                  <ScriptFileName>data/scripts_serp/spybuyshare_1.lua</ScriptFileName>
                                                </ActionExecuteScript>
                                              </Values>
                                            </TriggerAction>
                                          </Item>
                                        </TriggerActions>
                                      </Trigger>
                                    </Values>
                                  </SubTrigger>
                                </Item>
                                <Item>
                                  <SubTrigger>
                                    <Template>AutoCreateTrigger</Template>
                                    <Values>
                                      <Trigger>
                                        <TriggerCondition>
                                          <Template>WhichPlayer_Human2</Template>
                                          <Values />
                                        </TriggerCondition>
                                        <TriggerActions>
                                          <Item>
                                            <TriggerAction>
                                              <Template>ActionExecuteScript</Template>
                                              <Values>
                                                <Action />
                                                <ActionExecuteScript>
                                                  <ScriptFileName>data/scripts_serp/spybuyshare_2.lua</ScriptFileName>
                                                </ActionExecuteScript>
                                              </Values>
                                            </TriggerAction>
                                          </Item>
                                        </TriggerActions>
                                      </Trigger>
                                    </Values>
                                  </SubTrigger>
                                </Item>
                                <Item>
                                  <SubTrigger>
                                    <Template>AutoCreateTrigger</Template>
                                    <Values>
                                      <Trigger>
                                        <TriggerCondition>
                                          <Template>WhichPlayer_Human3</Template>
                                          <Values />
                                        </TriggerCondition>
                                        <TriggerActions>
                                          <Item>
                                            <TriggerAction>
                                              <Template>ActionExecuteScript</Template>
                                              <Values>
                                                <Action />
                                                <ActionExecuteScript>
                                                  <ScriptFileName>data/scripts_serp/spybuyshare_3.lua</ScriptFileName>
                                                </ActionExecuteScript>
                                              </Values>
                                            </TriggerAction>
                                          </Item>
                                        </TriggerActions>
                                      </Trigger>
                                    </Values>
                                  </SubTrigger>
                                </Item>
                              </SubTriggers>
                              <TriggerActions>
                                <Item>
                                  <TriggerAction>
                                    <Template>ActionAddResource</Template>
                                    <Values>
                                      <Action />
                                      <ActionAddResource>
                                        <Resource>1500001880</Resource>
                                        <ResourceAmount>10</ResourceAmount>
                                      </ActionAddResource>
                                    </Values>
                                  </TriggerAction>
                                </Item>
                              </TriggerActions>
                            </Trigger>
                          </Values>
                        </SubTrigger>
                      </Item>
                    </SubTriggers>
                  </Trigger>
                </Values>
              </SubTrigger>
            </Item>
            
            <!--  -->
            <!-- <Item> -->
              <!-- <SubTrigger> -->
                <!-- <Template>AutoCreateTrigger</Template> -->
                <!-- <Values> -->
                  <!-- <Trigger> -->
                    <!-- <TriggerCondition> -->
                      <!-- <Template>ConditionPlayerCounter</Template> -->
                      <!-- <Values> -->
                        <!-- <Condition /> -->
                        <!-- <ConditionPlayerCounter> -->
                          <!-- <PlayerCounter>GoodsInStock</PlayerCounter> -->
                          <!-- <Context>TODO1</Context> -->
                          <!-- <CounterAmount>0</CounterAmount> -->
                          <!-- <ComparisonOp>AtMost</ComparisonOp> -->
                        <!-- </ConditionPlayerCounter> -->
                      <!-- </Values> -->
                    <!-- </TriggerCondition> -->
                    <!-- <SubTriggers> -->
                      <!-- <Item> -->
                        <!-- <SubTrigger> -->
                          <!-- <Template>AutoCreateTrigger</Template> -->
                          <!-- <Values> -->
                            <!-- <Trigger> -->
                              <!-- <TriggerCondition> -->
                                <!-- <Template>ConditionEvent</Template> -->
                                <!-- <Values> -->
                                  <!-- <Condition /> -->
                                  <!-- <ConditionEvent> -->
                                    <!-- <ConditionEvent>ObjectBuilt</ConditionEvent> -->
                                    <!-- <ContextAsset>1500001489</ContextAsset> -->
                                    <!-- <ContextAssetInfolayer>0</ContextAssetInfolayer> -->
                                  <!-- </ConditionEvent> -->
                                  <!-- <ConditionPropsNegatable /> -->
                                <!-- </Values> -->
                              <!-- </TriggerCondition> -->
                              <!-- <TriggerActions> -->
                                <!-- For lua to properly identify the executing player, we need CharacterNotification Buttons -->
                                <!-- wobei wenn wir eh notification nutzen, kann mans auch weiter über n Item machen, -->
                                 <!-- was die notificaton spawnt sobald ausgeführt. -->
                                  <!-- und sobald button einmal gedrückt für cooldown Zeit button sperren , damit im coop nicht mehrfach geklickt werden kann -->
                                    <!-- (kann bei gleichzeitig Klicken exploitet werden, wobei wir auch hier selection gegenchecken können) -->
                                <!-- Damit Notification weniger nervig: -->
                                 <!-- evlt stattdessen eine Quest starten mit selecte Kontor auf insel wo spy ist (hat dann auch jump to) -->
                                 <!-- Dann kann man das machen wenn man Zeit hat und notification kann nicht durch ne andere notifiaction verschwinden -->
                                
                                
                                
                                <!-- Falls weiter über Gebäude: -->
                                 <!-- Dann können wir hier direkt scipt ausführen und das selected Gebäude und sein Area abfragen. -->
                                  <!-- und wenn Posten dann prüfen ob auf Insel auch Spy-Helper-Gebäude (ProfileCounter). -->
                                  <!-- Wenn ja, dann Action ausführen. -->
                                 <!-- Einziger Fall der Probleme macht: Wenn beide Coop Spieler einen Posten auf der richtigen Insel angegklickt haben. -->
                                  <!-- Dann würde Action doppelt ausgeführt, ohne dass wir das verhindern können -->
                                
                                <!-- Für Item spricht aufjedenfall dass Spy dafür beim Kontor stehen muss -->
                                 <!-- und KI und evlt auch Spieler es schwerer haben die Gebäude zu zerstören -->
                               <!-- Solche Gebäude Aktionen, die sofort starten, sind auch zu exploitable im Sinne von: -->
                                <!-- Spion ist nur 10 sek auf Insel um Aktion zu starten und dann wieder weg, sodass er nicht leicht erwischt werden kann. -->
                                <!-- Dh. wenn Gebäude Aktionen, dann dürfen die nur laufen wenn Spion währendessen weiter auf Insel ist -->
                                
                                
                                <!-- Alternativ: -->
                                <!-- Mit Item. -->
                                 <!-- Und es startet Trigger, welcher aber auch prüft ob Spieler in derselben Session ist (geht das?) -->
                                  <!-- wenn das geht, dann startet lua script erst wenn ein coop spieler in derselben Session ist -->
                                   <!-- und dann kann Spy Insel shcnell gefunden werden -->
                                 <!-- ne funzt nicht: 1)Verzögerung ist schon schwer und 2) ist dann auch unbekannt wieviele coop peers den lua code dann ausführen (nur die die aktuell in session sind, was wir ohne ultra nicht prüfen können wegen potentiell inaktiver peer) -->
                                
                              <!-- </TriggerActions> -->
                            <!-- </Trigger> -->
                          <!-- </Values> -->
                        <!-- </SubTrigger> -->
                      <!-- </Item> -->
                    <!-- </SubTriggers> -->
                  <!-- </Trigger> -->
                <!-- </Values> -->
              <!-- </SubTrigger> -->
            <!-- </Item> -->
            
          </SubTriggers>
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                  <Values>
                    <Condition />
                    <ConditionAlwaysTrue />
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>0</UsedBySecondParties>
        </TriggerSetup>
      </Values>
    </Asset>
    
    <!-- unlocked via Reactions -->
    <Asset>
      <Template>FeatureUnlock</Template>
      <Values>
        <Standard>
          <GUID>1500001881</GUID>
          <Name>Our Spy was catched by Jorgensen (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001881</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004024</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001881</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
          <ResetTrigger>
            <Template>AutoCreateTrigger</Template>
            <Values>
              <Trigger>
                <TriggerCondition>
                  <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                  <Values>
                    <Condition />
                    <ConditionAlwaysTrue />
                  </Values>
                </TriggerCondition>
              </Trigger>
            </Values>
          </ResetTrigger>
        </Trigger>
        <TriggerSetup>
          <AutoRegisterTrigger>1</AutoRegisterTrigger>
          <UsedBySecondParties>0</UsedBySecondParties>
          <AutoSelfUnlock>0</AutoSelfUnlock>
        </TriggerSetup>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001882</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001882</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004025</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001882</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001883</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001883</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004026</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001883</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001884</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001884</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004027</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001884</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001885</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001885</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004028</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001885</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001886</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001886</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004029</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001886</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001887</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001887</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004030</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001887</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001888</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001888</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004031</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001888</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001889</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001889</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004032</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001889</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001890</GUID>
          <Name>Our Spy was catched (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001890</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004033</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001890</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
    <Asset>
      <BaseAssetGUID>1500001881</BaseAssetGUID>
      <Values>
        <Standard>
          <GUID>1500001891</GUID>
          <Name>Our Spy was catched by Mercier (eg. end NoSpies agreement)</Name>
        </Standard>
        <Locked />
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001891</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable />
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionAddResource</Template>
                <Values>
                  <Action />
                  <ActionAddResource>
                    <Resource>1500004034</Resource>
                    <ResourceAmount>-100000</ResourceAmount>
                  </ActionAddResource>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionLockAsset</Template>
                <Values>
                  <Action />
                  <ActionLockAsset>
                    <LockAssets>
                      <Item>
                        <Asset>1500001891</Asset>
                      </Item>
                    </LockAssets>
                  </ActionLockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset> 
    
    <!-- started via lua -->
    <Asset>
      <Template>FeatureUnlock_MPLua</Template>
      <Values>
        <Standard>
          <GUID>1500001894</GUID>
          <Name>Player deleted Spy Unit, add debuff to punish (of course we could also prevent deleting, but in certain cases it might be wanted and you take the debuff)</Name>
        </Standard>
        <Trigger>
          <TriggerCondition>
            <Template>ConditionUnlocked</Template>
            <Values>
              <Condition />
              <ConditionUnlocked>
                <UnlockNeeded>1500001894</UnlockNeeded>
              </ConditionUnlocked>
              <ConditionPropsNegatable>
                <NegateCondition>1</NegateCondition>
              </ConditionPropsNegatable>
            </Values>
          </TriggerCondition>
          <TriggerActions>
            <Item>
              <TriggerAction>
                <Template>ActionNotification</Template>
                <Values>
                  <Action />
                  <ActionNotification>
                    <Notification>
                      <IsBaseAutoCreateAsset>1</IsBaseAutoCreateAsset>
                      <Values>
                        <SideNotification>
                          <IconAsset>1500001173</IconAsset>
                          <FilterType>Military</FilterType>
                          <HasJumpLocation>0</HasJumpLocation>
                          <IsArchived>1</IsArchived>
                          <Infotip>0</Infotip>
                        </SideNotification>
                        <BaseNotification>
                          <NotificationText>1500001894</NotificationText>
                          <NotificationMinDisplayTime>5000</NotificationMinDisplayTime>
                          <NotificationPriority>800</NotificationPriority>
                          <NotificationAudioAsset>9818769</NotificationAudioAsset>
                        </BaseNotification>
                        <NotificationSubtitle />
                      </Values>
                    </Notification>
                  </ActionNotification>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionBuff</Template>
                <Values>
                  <Action />
                  <ActionBuff>
                    <BuffAsset>1500001895</BuffAsset>
                    <AddBuff>0</AddBuff>
                    <BuffProcessingParticipant>1</BuffProcessingParticipant>
                  </ActionBuff>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionBuff</Template>
                <Values>
                  <Action />
                  <ActionBuff>
                    <BuffAsset>1500001895</BuffAsset>
                    <AddBuff>1</AddBuff>
                    <BuffProcessingParticipant>1</BuffProcessingParticipant>
                    <BuffTimeout>1800000</BuffTimeout>
                  </ActionBuff>
                </Values>
              </TriggerAction>
            </Item>
            <Item>
              <TriggerAction>
                <Template>ActionUnlockAsset</Template>
                <Values>
                  <Action />
                  <ActionUnlockAsset>
                    <UnlockAssets>
                      <Item>
                        <Asset>1500001894</Asset>
                      </Item>
                    </UnlockAssets>
                  </ActionUnlockAsset>
                </Values>
              </TriggerAction>
            </Item>
          </TriggerActions>
        </Trigger>
      </Values>
    </Asset>
           
  </ModOp>
  
  <!-- every 30 minutes, remove the oldest BuffFactory Sabotage Object from the executing player, human and AI (currently only human uses it but we will see) -->
  <!-- achtung, jeder pool in ObjectFilter muss mind. 2 Assets enthalten, sonst geht nichts -->
  <ModOp Type="add" GUID="1500005535" Path="Values/Trigger/ResetTrigger/Values/Trigger/TriggerActions">
    <Item>
      <TriggerAction>
        <Template>ActionDeleteObjects</Template>
        <Values>
          <Action />
          <ActionDeleteObjects />
          <ObjectFilter>
            <ObjectGUID>1500001824</ObjectGUID>
            <CheckParticipantID>1</CheckParticipantID>
            <CheckProcessingParticipantID>1</CheckProcessingParticipantID>
            <MaxObjectCount>1</MaxObjectCount>
          </ObjectFilter>
        </Values>
      </TriggerAction>
    </Item>
  </ModOp>
  
  <!-- Reduce TimeLimit Meta Products (No AI Spies) every 1 minute (only human) -->
  <ModOp Type="merge" GUID="1500005532" Path="/Values/Trigger/ResetTrigger/Values/Trigger/SubTriggers/Item/SubTrigger/Values/Trigger[TriggerCondition/Values/ConditionUnlocked/UnlockNeeded='1500001600']">
    <SubTriggers />
  </ModOp>
  <ModOp Type="add" GUID="1500005532" Path="/Values/Trigger/ResetTrigger/Values/Trigger/SubTriggers/Item/SubTrigger/Values/Trigger[TriggerCondition/Values/ConditionUnlocked/UnlockNeeded='1500001600']/SubTriggers">
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004024</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004024</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004025</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004025</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004026</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004026</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004027</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004027</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004028</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004028</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004029</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004029</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004030</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004030</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004031</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004031</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004032</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004032</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004033</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004033</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500004034</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500004034</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500001878</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500001878</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500001880</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionAddResource</Template>
                  <Values>
                    <Action />
                    <ActionAddResource>
                      <Resource>1500001880</Resource>
                      <ResourceAmount>-1</ResourceAmount>
                    </ActionAddResource>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
  </ModOp>
  
  <!-- Lock/Unlock Spy Actions every 10 seconds (only human) -->
  <ModOp Type="merge" GUID="1500005531" Path="/Values/Trigger/ResetTrigger/Values/Trigger/SubTriggers/Item/SubTrigger/Values/Trigger[TriggerCondition/Values/ConditionUnlocked/UnlockNeeded='1500001600']">
    <SubTriggers />
  </ModOp>
  <ModOp Type="add" GUID="1500005531" Path="/Values/Trigger/ResetTrigger/Values/Trigger/SubTriggers/Item/SubTrigger/Values/Trigger[TriggerCondition/Values/ConditionUnlocked/UnlockNeeded='1500001600']/SubTriggers">
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500001878</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionLockAsset</Template>
                  <Values>
                    <Action />
                    <ActionLockAsset>
                      <LockAssets>
                        <Item>
                          <Asset>1500001833</Asset>
                        </Item>
                      </LockAssets>
                    </ActionLockAsset>
                  </Values>
                </TriggerAction>
              </Item>
              <Item>
                <TriggerAction>
                  <Template>ActionUnlockAsset</Template>
                  <Values>
                    <Action />
                    <ActionUnlockAsset>
                      <UnhideAssets>
                        <Item>
                          <Asset>1500001833</Asset>
                        </Item>
                      </UnhideAssets>
                    </ActionUnlockAsset>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500001878</Context>
                  <CounterAmount>0</CounterAmount>
                  <ComparisonOp>AtMost</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionUnlockAsset</Template>
                  <Values>
                    <Action />
                    <ActionUnlockAsset>
                      <UnlockAssets>
                        <Item>
                          <Asset>1500001833</Asset>
                        </Item>
                      </UnlockAssets>
                    </ActionUnlockAsset>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500001880</Context>
                  <CounterAmount>1</CounterAmount>
                  <ComparisonOp>AtLeast</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionLockAsset</Template>
                  <Values>
                    <Action />
                    <ActionLockAsset>
                      <LockAssets>
                        <Item>
                          <Asset>1500001879</Asset>
                        </Item>
                      </LockAssets>
                    </ActionLockAsset>
                  </Values>
                </TriggerAction>
              </Item>
              <Item>
                <TriggerAction>
                  <Template>ActionUnlockAsset</Template>
                  <Values>
                    <Action />
                    <ActionUnlockAsset>
                      <UnhideAssets>
                        <Item>
                          <Asset>1500001879</Asset>
                        </Item>
                      </UnhideAssets>
                    </ActionUnlockAsset>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
    <Item>
      <SubTrigger>
        <Template>AutoCreateTrigger</Template>
        <Values>
          <Trigger>
            <TriggerCondition>
              <Template>ConditionPlayerCounter</Template>
              <Values>
                <Condition>
                  <IsOptional>1</IsOptional>
                </Condition>
                <ConditionPlayerCounter>
                  <PlayerCounter>GoodsInStock</PlayerCounter>
                  <Context>1500001880</Context>
                  <CounterAmount>0</CounterAmount>
                  <ComparisonOp>AtMost</ComparisonOp>
                </ConditionPlayerCounter>
              </Values>
            </TriggerCondition>
            <TriggerActions>
              <Item>
                <TriggerAction>
                  <Template>ActionUnlockAsset</Template>
                  <Values>
                    <Action />
                    <ActionUnlockAsset>
                      <UnlockAssets>
                        <Item>
                          <Asset>1500001879</Asset>
                        </Item>
                      </UnlockAssets>
                    </ActionUnlockAsset>
                  </Values>
                </TriggerAction>
              </Item>
            </TriggerActions>
          </Trigger>
        </Values>
      </SubTrigger>
    </Item>
  </ModOp>
  
  <!-- call our script on savegame load (either shared_EventOnGameLoaded_Serp or shared_LuaTools_Medium_Serp is active) -->
  <ModOp Type="add" GUID="1500004636" Condition="#shared_LuaTools_Medium_Serp" Path="/Values/Trigger/ResetTrigger/Values/Trigger/TriggerActions">
    <Item>
      <TriggerAction>
        <Template>ActionExecuteScript</Template>
        <Values>
          <Action />
          <ActionExecuteScript>
            <ScriptFileName>data/scripts_serp/spy_serp_main.lua</ScriptFileName>
          </ActionExecuteScript>
        </Values>
      </TriggerAction>
    </Item>
  </ModOp>
  
  
    
</ModOps>